<!DOCTYPE html>
<!script src="blah.js"></script>
<form id="f">
<p>Name: <input id="name"></p>
<script src="lib.js"></script>
<script type="text/javascript;version=1.8">
// (function() {
var f = document.getElementById("f");
var namee = document.getElementById("name");
var attr = ["str", "dex", "con", "int", "wis"], attre = [];
for (var i = 0; i < attr.length; ++i) {
	let cont = document.createElement("p");
	cont.appendChild(document.createTextNode(attr[i]));
	let e = document.createElement("input");
	let sp = document.createElement("span");
	e.type="range";
	e.min = 10;
	e.max = 18;
	e.value = 10;
	e.oninput = function() {
		sp.textContent = e.value;
	};
	cont.appendChild(e);
	attre.push(e);
	sp.textContent = e.value;
	cont.appendChild(sp);
	f.appendChild(cont);
}

function go() {
	var obj = {};
	obj.name = document.getElementById("name").value;
	if (!obj.name) {
		alert("You must have a name!");
		return;
	}
	var sum = 0;
	for (var i = 0; i < attr.length; ++i) {
		var val = attre[i].value;
		obj[attr[i]] = val;
		sum += val - 10;
	}
	if (sum > 10) {
		alert("You can only allocate 10 extra points!");
		return;
	}
	createChar(function() {
		alert("Success!");
	}, obj);
}
// )();
</script>
<input type="submit" onclick="go();return false" value="Create character!">
</form>
